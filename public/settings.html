<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>S0LACE • Settings</title>

  <link rel="shortcut icon" href="favicon.ico" />
  <link rel="stylesheet" href="index.css" />

  <script src="global-hub.js" defer></script>
  <script src="register-sw.js" defer></script>

  <style>
    /* ===== SETTINGS LAYOUT ===== */
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 18px;
      margin-bottom: 40px;
    }

    .settings-panel {
      background: var(--panel);
      border: 1px solid var(--border-soft);
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 0 0 rgba(0,0,0,0);
      transition: box-shadow .2s ease, border-color .2s ease;
    }

    .settings-panel:hover {
      border-color: var(--accent);
      box-shadow: 0 0 16px var(--accent-soft);
    }

    .settings-title {
      font-size: 11px;
      margin-bottom: 14px;
      color: var(--accent);
      text-shadow: 0 0 6px var(--accent);
    }

    /* ===== INPUTS ===== */
    .settings-input,
    .settings-select {
      width: 100%;
      padding: 10px 12px;
      margin-top: 8px;
      border-radius: 10px;
      border: 1px solid var(--border-soft);
      background: #000;
      color: var(--fg);
      font-family: "Press Start 2P";
      font-size: 9px;
      outline: none;
    }

    .settings-select {
      cursor: pointer;
    }

    /* ===== BUTTONS ===== */
    .settings-btn {
      width: 100%;
      margin-top: 12px;
      padding: 10px;
      border-radius: 12px;
      border: 1px solid var(--accent);
      background: linear-gradient(
        180deg,
        var(--accent-soft),
        transparent
      );
      color: var(--accent);
      font-family: "Press Start 2P";
      font-size: 9px;
      cursor: pointer;
      transition: transform .1s ease, box-shadow .15s ease;
    }

    .settings-btn:hover {
      box-shadow: 0 0 14px var(--accent);
      transform: translateY(-1px);
    }

    .settings-btn:active {
      transform: translateY(0);
      box-shadow: 0 0 6px var(--accent);
    }

    /* ===== TOGGLES ===== */
    .settings-toggle {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
      font-size: 9px;
    }

    .settings-toggle input {
      transform: scale(1.2);
      accent-color: var(--accent);
    }
  </style>
</head>

<body>
<nav class="side-header">
  <a href="index.html" class="side-icon" data-icon="home"><img /></a>
  <a href="games.html" class="side-icon" data-icon="games"><img /></a>
  <a href="media.html" class="side-icon" data-icon="media"><img /></a>
  <a href="settings.html" class="side-icon" data-icon="settings"><img /></a>
</nav>

<main>
  <div class="page-header"><h1>SETTINGS</h1></div>

  <div class="settings-grid">

    <!-- TAB CLOAK -->
    <section class="settings-panel">
      <div class="settings-title">TAB CLOAKING</div>
      <select id="cloak-select" class="settings-select">
        <option value="">SELECT…</option>
        <option value="drive">GOOGLE DRIVE</option>
        <option value="schoology">SCHOOLOGY</option>
        <option value="docs">GOOGLE DOCS</option>
        <option value="google">GOOGLE</option>
        <option value="custom">CUSTOM</option>
      </select>

      <div id="cloak-custom" style="display:none;">
        <input id="cloak-title" class="settings-input" placeholder="Custom Title" />
        <input id="cloak-icon" class="settings-input" placeholder="Favicon URL" />
        <button class="settings-btn" id="cloak-apply">APPLY</button>
      </div>

      <button class="settings-btn" id="cloak-reset">RESET</button>
    </section>

    <!-- APPEARANCE -->
    <section class="settings-panel">
      <div class="settings-title">APPEARANCE</div>
      <select id="theme-select" class="settings-select">
        <option value="dark">DARK</option>
        <option value="baby">BLUE</option>
        <option value="xmas">GREEN</option>
      </select>
      <select id="accent-select" class="settings-select">
        <option value="green">GREEN</option>
        <option value="violet">VIOLET</option>
        <option value="amber">AMBER</option>
        <option value="white">WHITE</option>
      </select>
    </section>

    <!-- BACKGROUND -->
    <section class="settings-panel">
      <div class="settings-title">BACKGROUND</div>
      <select id="bg-mode" class="settings-select">
        <option value="default">DEFAULT</option>
        <option value="gif-stars">STARRY GIF</option>
        <option value="custom">CUSTOM</option>
      </select>
      <input id="bg-url" class="settings-input" placeholder="Image URL" />
    </section>

    <!-- MEDIA SOURCE -->
    <section class="settings-panel">
      <div class="settings-title">MEDIA PLAYER</div>
      <select id="media-source-select" class="settings-select">
        <option value="vidfast">VIDFAST.PRO</option>
        <option value="cinemaos">CINEMA OS</option>
      </select>
    </section>

    <!-- SECURITY -->
    <section class="settings-panel">
      <div class="settings-title">SECURITY</div>
      <div class="settings-toggle">
        <input type="checkbox" id="anti-close-toggle" />
        <label for="anti-close-toggle">ANTI-CLOSE</label>
      </div>
      <button class="settings-btn" id="blank-launch">LAUNCH ABOUT:BLANK</button>
    </section>

    <!-- SAVE / LOAD -->
    <section class="settings-panel">
      <div class="settings-title">SAVE / LOAD</div>
      <button class="settings-btn" id="export-settings">EXPORT DATA</button>
      <input type="file" id="import-file" hidden accept="application/json" />
      <button class="settings-btn" id="import-settings">IMPORT DATA</button>
    </section>

    <!-- INFO -->
    <section class="settings-panel">
      <div class="settings-title">INFO</div>
      <a href="about.html"><button class="settings-btn">ABOUT US</button></a>
    </section>

  </div>
</main>

<script>
/* ===== SIDE ICONS ===== */
function getAccent() {
  return localStorage.getItem("s0laceAccent") || "gray";
}
function updateSideIcons() {
  const accent = getAccent();
  document.querySelectorAll(".side-icon").forEach(link => {
    const icon = link.dataset.icon;
    const img = link.querySelector("img");
    const active = location.pathname.endsWith(link.getAttribute("href"));
    link.classList.toggle("active", active);
    img.src = `thumbs/${icon}/${active ? accent : "gray"}.png`;
  });
}
updateSideIcons();
window.addEventListener("storage", updateSideIcons);
</script>

<!-- KEEP YOUR EXISTING LOGIC SCRIPT UNCHANGED -->
<script src="settings-logic.js" defer>
    
</script>

</body>
</html>
